[watch]
# Paths to watch. The `build.target`'s parent folder is watched by default.
ignore = [
    # These files are generated from our build.rs script, not excluding them would result in an endless restart-cycle!
    # Keep this list in sync with what the build script generates.
    "./generated",
]

[serve]
address = "127.0.0.1"
port = 8080
open = false


[[hooks]]
# This hook example shows how command_arguments defaults to an empty list when absent. It also uses
# the post_build stage, meaning it executes after the rest of the build is complete, just before
# the staging directory is copied over the dist directory. This means that it has access to all
# built assets, including the HTML file generated by trunk.
stage = "post_build"
command = "sh"
command_arguments = ["-c", "cp serviceWorker.js $TRUNK_STAGING_DIR/serviceWorker.js"]